<div class="simple-helix-controller"
	ng-controller="Helix.HelixStateModelDefController">


	<div class="row-fluid">
		<div class="span6 offset3">

			<h2>State Model Definition Manager</h2>
			<p>
				Select Cluster <select
					data-ng-options="o for o in clusters.listFields.clusters"
					ng-model="cluster.clusterName">
				</select> <input type="button" class="btn btn-warning"
					ng-click="listStateModel(cluster)" value="List State Model" />
			</p>
			<input type="text" ng-model="cluster.newStateModelDefinition"
				placeholder="New State Model Definition" /> <input type="button"
				ng-click="addStateModelDef(cluster)"
				value="Add State Model Definition" class="btn btn-primary" />

			<!--  notification -->
			<div ng-show="callback">

				<div class="alert alert-success alert-dismissible" role="alert">
					<button type="button" class="close" data-dismiss="alert">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					<strong>Success!</strong> {{callback}}
				</div>
			</div>
			<!--  end of notification -->
			<!--  Error notification -->
			<div ng-show="callbackErr">

				<div class="alert alert-danger alert-dismissible" role="alert">
					<button type="button" class="close" data-dismiss="alert">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					<strong>Failure!</strong> {{callbackErr}}
				</div>
			</div>
			<!--  end of Error notification -->

			<div ng-show="statemodel">
				<table class="table table-hover">
					<thead>
						<tr>
							<th>State Model Definitions</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in statemodel.listFields.models">
							<td>{{item}}</td>

							<td><input type="button" class="btn btn-info btn-sm"
								ng-click="getDefinition(cluster,'{{item}}')" value="Definition" />
							</td>

						</tr>
					</tbody>
				</table>
			</div>


			<div ng-show="statemodelDefinition">
				<div class="panel panel-default">
					<!-- Default panel contents -->
					<div class="panel-heading">State Model Definition</div>
					<div class="panel-body">




						<table class="table table-hover">

							<tbody>
								<tr
									ng-repeat="(key, value) in statemodelDefinition.simpleFields">
									<td><strong>{{key}}</strong></td>
									<td>{{value}}</td>


								</tr>
							</tbody>
						</table>



						<table class="table table-hover">

							<tbody>
								<tr ng-repeat="(key, value) in statemodelDefinition.listFields">
									<td><strong>{{key}}</strong></td>
									<td>
										<table>
											<tr ng-repeat="(key,value) in value">
												<td>{{value}}</td>
											</tr>
										</table>
									</td>


								</tr>
							</tbody>
						</table>



						<table class="table table-hover">

							<tbody>
								<tr ng-repeat="(key, value) in statemodelDefinition.mapFields">
									<td><strong>{{key}}<strong></td>
									<td>
										<table class="table table-bordered">
											<tr ng-repeat="(keyx,valuex) in value track by $index">
												<td class="success">{{keyx}}</td>
												<td>{{valuex}}</td>
											</tr>
										</table>
									</td>


								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

		</div>
	</div>

</div>
